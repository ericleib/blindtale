<tale>
    <title>Le Labyrinthe - Acte I</title>

    <entry-scene>intro</entry-scene>

    <lang>fr</lang>

    <voices default="narrator">
        <voice id="narrator" pitch="0.9" rate="0.75"/>
        <voice id="low" pitch="0.65" rate="0.75"/>
        <voice id="high" pitch="1.1" rate="0.75"/>
        <voice id="higher" pitch="1.4" rate="1.1"/>
        <voice id="angry" pitch="0.65" rate="1.2"/>
        <voice id="angry_fast" pitch="0.5" rate="1.5"/>
        <voice id="angry_slow" pitch="0.65" rate="0.65"/>
        <voice id="pretentious" pitch="1.5" rate="0.65"/>
    </voices>

    <scenes>

        <scene id="intro" title="Introduction">

            <audio voice="low">
                Il y a bien longtemps, dans le royaume de blablabla, vivait un jeune homme nommé Santiago.
                Son village était assailli par un monstre qui, chaque année, emportait des jeunes filles et garçons dans son labyrinthe. 
                Santiago ne s'était jamais vraiment senti concerné par cette menace parce que de toute façon, ça n'arrivait qu'aux autres.
                Mais cette année, c'est sa petite soeur qui a été prise en otage par le monstre! 
                Après d'interminables remises en question existentielles et quelques verres de vin, il décida d'agir. 
                Il entrerait dans le labyrinthe et arracherait sa soeur aux griffes du monstre! Aussi laid soit-il! (le monstre) 
            </audio>

            <action keys="commencer" description="Commencer" do-immediately-condition="true" next-scene="maison_heros"/>

        </scene>



        <scene id="maison_heros">

            <action keys="décrire" description="décrire le lieu" do-immediately-condition="maison_heros_decrite == false">
                <audio>
                    Je suis chez moi. Il y a ma mère, et mon sac à dos pour aller dans la labyrinthe.
                </audio>
                <state-change change="set-true" state="maison_heros_decrite"/>
            </action>

            <action keys="sortir" description="Sortir de la maison" next-scene="devant_maison_heros">
                <audio>
                    OK, sortons dehors!
                </audio>
            </action>

            <action keys="parler" description="Parler à ma mère" next-dialog="parler_mere">
                <audio>
                    Bonjour, mère!
                </audio>
            </action>

            <dialog id="parler_mere">
                <audio voice="high">
                    Bonjour Santiago ! Tu es prêt à partir ?
                </audio>
                <line keys="oui" description="dire oui">
                    <audio>Oui! Tout est pret.</audio>
                </line>
                <line keys="non" description="dire non">
                    <audio>Non! J'ai encore quelques courses à faire</audio>
                </line>
            </dialog>
        </scene>



        <scene id="devant_maison_heros">

            <action keys="décrire" description="décrire le lieu" do-immediately-condition="devant_maison_decrite == false">
                <audio>
                    Je suis devant chez moi.
                    Il y a une route qui va vers le village.
                    Il y a aussi un chemin qui va vers la forêt et le labyrinthe.
                </audio>
                <state-change change="set-true" state="devant_maison_decrite"/>
            </action>

            <action keys="maison" description="Aller chez moi" next-scene="maison_heros">
                <audio>
                    OK, allons chez moi !
                </audio>
            </action>

            <action keys="chemin" description="Chemin vers la forêt" next-scene="chemin">
                <audio>
                    OK, allons vers la forêt !
                </audio>
            </action>

            <action keys="route" description="Route vers le village" next-scene="route">
                <audio>
                    OK, allons vers le village !
                </audio>
            </action>

        </scene>



        <scene id="maison_grand_pere">

            <action keys="décrire" description="décrire le lieu" do-immediately-condition="maison_gp_decrite == false">
                <audio>
                    Je suis chez mon grand-père.
                </audio>
                <state-change change="set-true" state="maison_gp_decrite"/>
            </action>

            <action keys="sortir" description="Sortir de la maison" next-scene="route">
                <audio>
                    OK, sortons dehors!
                </audio>
            </action>

            <action keys="parler" description="parler à mon grand-père" next-dialog="parler">
                <audio>
                    Bonjour grand-père!
                </audio>
            </action>

            <dialog id="parler">
                <line keys="oui" description="dire oui">
                    <audio>Oui! Tout est pret.</audio>
                </line>
            </dialog>
        </scene>



        <scene id="chemin">

            <action keys="décrire" description="décrire le lieu" do-immediately-condition="chemin_decrit == false">
                <audio>
                    C'est le petit chemin qui va dans la forêt...
                    Il y a un croisement pour aller au labyrinthe.
                </audio>
                <state-change change="set-true" state="chemin_decrit"/>
            </action>

            <action keys="labyrinthe" description="Aller au labyrinthe" next-scene="laby">
                <audio>
                    OK, allons au labyrinthe!
                </audio>
            </action>

            <action keys="foret" description="Aller dans la forêt" next-scene="foret">
                <audio>
                    OK, allons dans la forêt!
                </audio>
            </action>

            <action keys="village" description="Revenir vers le village" next-scene="devant_maison_heros">
                <audio>
                    OK, revenons vers le village!
                </audio>
            </action>

        </scene>



        <scene id="route">
            <action keys="décrire" description="décrire le lieu" do-immediately-condition="route_decrite == false">
                <audio>
                    C'est la route qui mène de ma maison jusqu'au village. Il y a la maison de mon grand-père sur le chemin !
                </audio>
                <state-change change="set-true" state="route_decrite"/>
            </action>

            <action keys="village" description="Aller au village" next-scene="place">
                <audio>
                    OK, allons au village !
                </audio>
            </action>

            <action keys="maison" description="Revenir vers la maison" next-scene="devant_maison_heros">
                <audio>
                    OK, revenons vers chez moi!
                </audio>
            </action>

            <action keys="grand-pere" description="Aller chez le grand-père" next-scene="maison_grand_pere">
                <audio>
                    OK, allons voir mon grand-père !
                </audio>
            </action>
        </scene>



        <scene id="foret">

            <action keys="décrire" description="décrire le lieu" do-immediately-condition="foret_decrite == false">
                <audio>
                    Je suis dans la forêt sombre et humide...
                    Je distingue une clairière et et un petit chemin avec un panneau disant "propriété privée".
                </audio>
                <state-change change="set-true" state="foret_decrite"/>
            </action>

            <action keys="clairière" description="aller vers la clairière" next-scene="clairiere">
                <audio>
                    OK, allons vers la clairière !
                </audio>
            </action>

            <action keys="village" description="revenir au village" next-scene="chemin">
                <audio>
                    OK, revenons au village !
                </audio>
            </action>

            <action keys="chemin" description="prendre le petit chemin" next-scene="cabane">
                <audio>
                    OK, prenons le petit chemin ! J'espère qu'il n'y a pas de pièges...
                </audio>
            </action>

        </scene>



        <scene id="clairiere">

            <action keys="décrire" description="décrire le lieu" do-immediately-condition="clairiere_decrite == false">
                <audio>
                    Ah, je reconnais cette clairière ! C'est la où habite le sorcier blablabla ! Sa chaumière est juste là.
                    C'est lui qui me gardait quand j'étais enfant... Ca explique peut-être certaines choses...
                </audio>
                <state-change change="set-true" state="clairiere_decrite"/>
            </action>

            <action keys="chaumière" description="entrer dans la chaumière" next-scene="chaumiere">
                <audio> OK, entrons dans la chaumière. </audio>
            </action>

            <action keys="foret" description="revenir dans la forêt" next-scene="foret">
                <audio> OK, revenons vers la forêt. </audio>
            </action>
        </scene>



        <scene id="chaumiere">

            <action keys="décrire" description="décrire le lieu" do-immediately-condition="chaumiere_decrite == false">
                <audio>
                    C'est la chaumière du sorcier blablabla.
                    Il n'a pas fait le ménage de puis longtemps...
                    Il y a des fioles remplies de potions et ingrédients dans tous les coins.
                    Blablabla est en train de préparer une recette je crois.
                </audio>
                <state-change change="set-true" state="chaumiere_decrite"/>
            </action>

            <action keys="sortir" description="Sortir de la chaumière" next-scene="clairiere">
                <audio> OK, sortons de la chaumière. </audio>
            </action>

            <action keys="parler" description="parler à mon grand-père" next-dialog="parler">
                <audio> Bonjour blablabla! </audio>
                <audio voice="low">
                    Oh! Bonjour mon petit Santiago. Qu'est-ce qui t'amène chez moi ?
                </audio>
            </action>

            <dialog id="parler">
                <line keys="nouvelles" description="demander des nouvelles" next-dialog="parler">
                    <audio>Comment va la santé blablabla?</audio>
                    <audio voice="low">Oh, je n'ai pas à me plaindre...</audio>
                </line>
            </dialog>

        </scene>



        <scene id="cabane">

            <action keys="décrire" description="décrire le lieu" do-immediately-condition="cabane_decrite == false">
                <audio> Il y a une vieille cabane décrépite. Je me demande ce qu'elle peut bien contenir... </audio>
                <state-change change="set-true" state="cabane_decrite"/>
            </action>

            <action keys="foret" description="Revenir vers la foret" next-scene="foret">
                <audio> OK, revenons vers la foret. </audio>
            </action>

            <action keys="ouvrir" description="Ouvrir la cabane" condition="clef_cabane == false">
                <audio> On dirait que c'est fermé à clé... </audio>
            </action>

            <action keys="ouvrir" description="Ouvrir la cabane" condition="clef_cabane == true">
                <audio condition="cabane_ouverte == false">
                    Je vais essayer d'ouvrir la porte avec la clef de chez grand-père...
                    Oui! Ca marche. Je vais entrer...
                </audio>
                <audio condition="cabane_ouverte == true">
                    J'ai déjà ouvert la porte tout à l'heure !
                </audio>
                <state-change change="set-true" state="cabane_ouverte"/>
            </action>

            <action keys="chercher" description="Chercher des objets" condition="cabane_ouverte == true">
                <audio condition="epee_trouvee == false">
                    Je n'ai jamais vu autant de poussière !
                    Quel bazar... Voyons-voir...
                    Ah ! Voici l'épée de grand-père ! Elle est un peu rouillée, mais elle fera bien l'affaire !
                </audio>
                <audio condition="epee_trouvee == true">
                    Je crois que j'ai déjà trouvé tout ce qu'il y a d'utile dans cette cabane...
                </audio>
                <state-change change="set-true" state="epee_trouvee"/>
            </action>

        </scene>



        <scene id="laby">

            <action keys="décrire" description="décrire le lieu" do-immediately-condition="laby_decrit == false">
                <audio>
                    Voici l'entrée du labyrinthe ou se cache le blablabla...
                    On dirait qu'il y a un garde à l'entrée.
                </audio>
                <state-change change="set-true" state="laby_decrit"/>
            </action>

            <action keys="route" description="Revenir vers la route" next-scene="route">
                <audio> OK, revenons vers la route. </audio>
            </action>

            <action keys="parler" description="parler au garde" next-dialog="parler">
                <audio> Je voudrais entrer dans le labyrinthe... </audio>
                <audio voice="angry_fast"> Personne ne rentre dans le labyrinthe ! </audio>
            </action>

            <dialog id="parler">
                <line keys="entrer" description="demander à entrer" next-dialog="entrer">
                    <audio>Pourquoi ne puis-je pas entrer dans le labyrinthe?</audio>
                    <audio voice="angry_fast">Ce sont les ordres! C'est beaucoup trop dangereux pour les gamins comme toi.</audio>
                </line>
                <line keys="santé" next-dialog="parler">
                    <audio>Et sinon la santé ça va?</audio>
                    <audio voice="angry_fast">Non, ce travail est incroyablement difficile.</audio>
                    <audio>Vraiment? Garder l'entrée d'un labyrinthe, ça ne doit pas être très stressant...</audio>
                    <audio voice="angry_fast">Détrompe-toi, j'en suis à mon troisième burn-out ! Oh, j'aurais dû écouter ma mère et faire de la couture. Il y a beaucoup d'avenir dans...</audio>
                    <audio>Oui bon, ça va, merci.</audio>
                </line>
                <line keys="passage" description="Beaucoup de passage?" next-dialog="parler">
                    <audio>Il y a beaucoup de passage dans le labyrinthe en ce moment ?</audio>
                    <audio voice="angry_fast">Non, il n'y a jamais personne. C'est ce qui rend ce job difficile voyez-vous. La solitude. On commence à se parler à soi-même, et à avoir des hallucinations...</audio>
                    <audio>Oui bon, ça va, merci.</audio>
                </line>
                <line keys="battre" description="Se battre contre le garde" next-dialog="parler">
                    <audio>Ah, vous ne voulez pas me laisser rentrer? Et bien je vais devoir vous occir sur le champ !</audio>
                    <audio voice="angry_fast">Ah ah ah! Tu es mignon gamin, mais franchement tu ne fais pas le poids. J'en ai étrippé plus d'un des allumés qui voulaient rentrer dans le labyrinthe. Rentre chez ta mère !</audio>
                    <audio>Malheureusement vous avez probablement raison... Je n'ai plus beaucoup de souvenirs de mes cours de judo...</audio>
                </line>
                <line keys="revenir" description="Je repasserai">
                    <audio>Tant pis, je repasserai, je ne suis pas encore prêt...</audio>
                    <audio voice="angry_fast">C'est ça gamin ! Crois-moi, tu es bien plus heureux en dehors de ce labyrinthe</audio>
                </line>
            </dialog>

            <dialog id="entrer">
                <line keys="pourquoi" description="Pourquoi est-ce dangereux" next-dialog="entrer">
                    <audio>Pourquoi le labyrinthe est-il si dangereux ?</audio>
                    <audio voice="angry_fast">Enfin, tu n'as jamais entendu parler du monstre qui vit là-dedans ?</audio>
                    <audio>Si, mais enfin, en étant bien armés on devrait en venir à bout, vous ne croyez pas ?</audio>
                    <audio voice="angry_fast">Ah ah ah ! Tu es bien naif, bonhomme. Cettre créature te dévorerait sans te laisser la moindre chance si elle te voyait !</audio>
                </line>
                <line keys="faveur" description="Proposer une faveur" next-dialog="entrer">
                    <audio>Allons, allons, je peux bien faire quelque chose pour vous, pour que vous me laissiez rentrer ?</audio>
                    <audio voice="angry_fast">Comment? De la corruption? Je devrais te transpercer avec mon épée sur le champ, mais je me sens vraiment seul... Tu es la première personne avec qui je parle depuis un bout de temps...</audio>
                    <audio>Tant pis...</audio>
                </line>
                <line keys="soeur" description="Ma soeur capturée" next-dialog="entrer">
                    <audio>Vous devez m'aider ! Ma soeur a été capturée par le monstre !</audio>
                    <audio voice="angry_fast">J'en suis fort désolé gamin, mais je ne peux pas te laisser rentrer. Ca ne ferait qu'ajouter ton nom sur le tableau de chasse du monstre.</audio>
                    <audio>Mais je suis son seul espoir ! Vous devez comprendre !</audio>
                    <audio voice="angry_fast">Je comprends, mais les règles sont les règles, petit.</audio>
                </line>
                <line keys="conditions" description="Conditions pour rentrer" next-dialog="conditions">
                    <audio>Qu'est-ce qui me faudrait pour entrer dans le labyrinthe ?</audio>
                    <audio voice="angry_fast">
                        Hé bien... D'abord il faudrait que tu sois bien armé.
                        Ensuite, il faudrait que tu me prouves que tu es capable de trouver ton chemin dans le labyrinthe.
                        Et surtout, il faudrait tu emportes avec toi tout le matériel de survie!
                    </audio>
                </line>
                <line keys="revenir" description="Je repasserai">
                    <audio>Tant pis, je repasserai, je ne suis pas encore prêt...</audio>
                    <audio voice="angry_fast">C'est ça gamin ! Crois-moi, tu es bien plus heureux en dehors de ce labyrinthe</audio>
                </line>
            </dialog>

            <dialog id="conditions">
                <line keys="pret" description="Je suis pret" next-dialog="test_arme">
                    <audio>Je crois que je suis pret!</audio>
                    <audio voice="angry_fast">Ah oui? voyons-voir ça... Es-tu armé ?</audio>
                </line>
                <line keys="revenir" description="Je repasserai">
                    <audio>Tant pis, je repasserai, je ne suis pas encore prêt...</audio>
                    <audio voice="angry_fast">C'est ça gamin ! Crois-moi, tu es bien plus heureux en dehors de ce labyrinthe</audio>
                </line>
            </dialog>

            <dialog id="test_arme">
                <line keys="oui" next-dialog="test_carte" condition="epee_trouvee == true">
                    <audio>Oui ! J'ai cette épée redoutable !</audio>
                    <audio voice="angry_fast">Ouais... Elle est un peu rouillée, mais ça devrait aller. Est-ce que tu peux naviguer dans le labyrinthe ?</audio>
                </line>
                <line keys="non" next-dialog="entrer" condition="epee_trouvee == false">
                    <audio>Euh... Non... Je n'ai pas encore trouvé d'arme</audio>
                    <audio voice="angry_fast">Alors arrête de me faire perdre mon temps !</audio>
                    <audio>Désolé...</audio>
                </line>
            </dialog>

            <dialog id="test_carte">
                <line keys="oui" next-dialog="test_sac" condition="carte_trouvee == true">
                    <audio>Oui ! J'ai acheté cette carte du labyrinthe !</audio>
                    <audio voice="angry_fast">Ouais... On dirait qu'elle date un peu, et il y a des tâches de café, mais c'est mieux que rien... Bon, et est-ce que tu as de quoi survivre dans le labyrinthe ?</audio>
                </line>
                <line keys="non" next-dialog="entrer" condition="carte_trouvee == false">
                    <audio>Euh... Non... Je n'ai pas encore trouvé de carte...</audio>
                    <audio voice="angry_fast">Alors arrête de me faire perdre mon temps !</audio>
                    <audio>Désolé...</audio>
                </line>
            </dialog>

            <dialog id="test_sac">
                <line keys="oui" next-scene="fin" condition="porteur_recrute == true">
                    <audio>Oui ! Mon porteur est là pour m'aider dans le labyrinthe !</audio>
                    <audio voice="angry_fast">Bon, on dirait que tu as été suffisament prévoyant! Bravo tu es prêt à entrer dans le labyrinthe... Mais je te préviens... Ce n'est que le début de tes aventures...</audio>
                </line>
                <line keys="non" next-dialog="entrer" condition="porteur_recrute == false">
                    <audio>Euh... Non... Je n'ai pas encore de quoi subsister dans le labyrinthe...</audio>
                    <audio voice="angry_fast">Alors arrête de me faire perdre mon temps !</audio>
                    <audio>Désolé...</audio>
                </line>
            </dialog>
        </scene>



        <scene id="place">

            <action keys="décrire" description="Décrire le lieu" do-immediately-condition="place_decrite == false">
                <audio>
                    Je suis sur la place du village. Je peux aller boire un verre à la taverne, ou faire un peu de shopping chez le marchand.
                    Oh! Et il y a aussi Pablito, l'idiot du village.
                </audio>
                <state-change change="set-true" state="place_decrite"/>
            </action>

            <action keys="chemin" description="Revenir sur le chemin" next-scene="chemin">
                <audio> OK, revenons sur le chemin. </audio>
            </action>

            <action keys="taverne" description="Entrer dans la taverne" next-scene="taverne">
                <audio> OK, allons boire un verre à la taverne. </audio>
            </action>

            <action keys="marchand" description="Entrer chez le marchand" next-scene="marchand">
                <audio> OK, allons voir ce que le marchand a en stock. </audio>
            </action>

            <action keys="parler" description="Parler à Pablito" next-dialog="parler">
                <audio> Salut Pablito. ça va pour toi ? </audio>
            </action>

            <dialog id="parler">

            </dialog>

        </scene>



        <scene id="taverne" end="true">

            <action keys="décrire" description="Décrire le lieu" do-immediately-condition="taverne_decrite == false">
                <audio>
                    Ah ! Me voici dans la célèbre taverne de blablabla. Il y a du monde ce soir. Ca doit être le célèbre concours de bras de fer.
                    C'est le vieux Roberto qui gagne le concours depuis plus de dix ans.
                    Et comme d'habitude c'est son frère Alfredo qui fait arbitre...
                    Bon, j'espère que le cuisinier a cuisiné quelque chose de bon ce soir !
                </audio>
                <state-change change="set-true" state="taverne_decrite"/>
            </action>

            <action keys="sortir" description="Sortir de la taverne" next-scene="sortir">
                <audio> OK, sortons de la taverne. </audio>
            </action>

            <action keys="arbitre" description="Parler à Alfredo" next-dialog="arbitre">
                <audio> Hola Alfredo ! </audio>
            </action>

            <action keys="adversaire" description="Parler à Roberto" next-dialog="adversaire">
                <audio> Hola Roberto ! </audio>
            </action>

            <action keys="cuisinier" description="Parler au cuisinier" next-dialog="cuisinier">
                <audio> Bonjour cuistot ! Qu'est-ce que tu prépares de bon pour ce soir ? </audio>
            </action>

            <dialog id="arbitre">

            </dialog>

            <dialog id="adversaire">

            </dialog>

            <dialog id="cuisinier">

            </dialog>
        </scene>



        <scene id="marchand" end="true">

            <audio voice="high" condition="marchand_bonjour == false">
                Bonjour cher client ! Que puis-je faire pour vous aujourd'hui ?
            </audio>
            <audio condition="marchand_bonjour == false">
                Bonjour !
            </audio>

            <action keys="décrire" description="Décrire le lieu" do-immediately-condition="boutique_decrite == false">
                <audio>
                    C'est la boutique du marchand de blablabla. Il a toujours mille et une choses à vendre...
                </audio>
                <state-change change="set-true" state="boutique_decrite"/>
            </action>

            <action keys="sortir" description="Sortir de la boutique" next-scene="sortir">
                <audio> OK, sortons de la boutique. </audio>
                <state-change change="set-false" state="marchand_bonjour"/>
            </action>

            <action keys="parler" description="Parler au marchand" next-dialog="parler">
                <audio> Alors qu'est-ce que vous avez en stock aujourd'hui ? </audio>
                <state-change change="set-true" state="marchand_bonjour"/>
            </action>

            <dialog id="parler">

            </dialog>

        </scene>



        <scene id="fin" title="Fin de l'acte I" end="true">
            <audio>Bravo ! Vous avez terminé l'acte I du Labyrinthe ! A bientôt pour l'acte II...</audio>
        </scene>

    </scenes>

    <credits>
        <credit role="designer">Eric Leibenguth</credit>
        <credit role="dialogue">Pauline Leibenguth</credit>
    </credits>

</tale>
